---------------------------------------------------------------------------------
--
-- loadingMenu.lua
--
---------------------------------------------------------------------------------

----- IMPORT MODULES --------------------------------------------------------------------
local composer = require( "composer" )

----DEFINE VARIABLES---------------------------------------------------------------------
local scene = composer.newScene()
local myTimer
local loadingImage

-----------------------------------------------------------------------------------------------------------------------------
---- Create function --------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------

function scene:create( event )
	local sceneGroup = self.view
end

-----------------------------------------------------------------------------------------------------------------------------
---- Show function ----------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------

function scene:show( event )
	local sceneGroup = self.view
	loadingImage = display.newImageRect( "backgrounds/load_image.png", 320, 480 )
	loadingImage.x = 160; loadingImage.y = 240
	sceneGroup:insert( loadingImage )
	
	local goToMenu = function()
		composer.gotoScene( "menu", "fade", 500 )
		
	end
	changeTimer = timer.performWithDelay( 1000, goToMenu, 1 )
	
end

-----------------------------------------------------------------------------------------------------------------------------
---- Hide function ----------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------

function scene:hide()

	-- clear the timer
	if changeTimer then 
		timer.cancel( changeTimer )
	end
end

-----------------------------------------------------------------------------------------------------------------------------
---- Destroy function -------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------

function scene:destroy( event )
end

scene:addEventListener( "create", scene )
scene:addEventListener( "show", scene )
scene:addEventListener( "hide", scene )
scene:addEventListener( "destroy", scene )

-----------------------------------------------------------------------------------------------------------------------------
---- Return Scene -----------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------

return scene